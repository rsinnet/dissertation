\documentclass{beamer}
\usepackage{amssymb,amsmath,mathrsfs}

\newcommand{\sQ}{\mathcal{Q}}
\newcommand{\nc}{\mathit{nc}}
\DeclareMathOperator*{\argmin}{arg\,min}

%\usetheme{PaloAlto}
\usetheme{Szeged}
%\usecolortheme{beaver}

\usepackage{graphicx}
\graphicspath{{./figures/}}
\DeclareGraphicsExtensions{.pdf}

\usepackage{prelim_def}

\title[Energy Shaping]{A Lyapunov Approach to Orbital \\Stabilization through Energy Shaping}
\subtitle{Applications to Bipedal Walking\\--- Preliminary Results ---}
\author{R. W. Sinnet}
\institute{Department of Mechanical Engineering\\ Texas A\&M University}
\date{July ?, 2014}


\begin{document}

\frame{\titlepage}

\begin{frame}
  \frametitle{Table of Contents}
  \tableofcontents
\end{frame}

\section{Introduction}
\begin{frame}
  \frametitle{intro}
  intro
\end{frame}

\begin{frame}
  \frametitle{Goal}
  goal
\end{frame}

\begin{frame}
  \frametitle{History of Bipeds}
  history
\end{frame}

\section{Mechanics of Bipeds}
\begin{frame}
  \frametitle{Hybrid Modeling}
  hybr
\end{frame}

\begin{frame}
  \frametitle{Hybrid Systems}
  \begin{columns}[t]
    \begin{column}{.63\textwidth}
      \begin{definition}
        A \alert{hybrid control system} is a tuple \vspace{-.3cm}
        $$\HCS = \hcsystem, \vspace{-.4cm}$$
        where
        \begin{itemize}
        \item
          $\Domain \subset \mathcal{X}$ is the {\em domain of admissiblity} with state space $\mathcal{X}$,
        \item
          $\ControlSet$ is a set of {\em admissible controls},
        \item
          $\Guard$ is a {\em guard} or {\em switching surface},
        \item
          $\ResetMap$ is a smooth {\em reset map}
        \item
          $(f, g)$ is a control system on $\Domain$: \vspace{-3mm}
          \begin{align*}
            \dot{x} = f(x) + g(x) \, u.
        \end{align*}
        \end{itemize}
      \end{definition}
    \end{column}
    \begin{column}{.4\textwidth}
      \begin{figure}
        \centering
        \includegraphics[width=.9\textwidth]{hsystem}\\
      \end{figure}
      A \textcolor{blue}{simple hybrid system}:\vspace{-.3cm}
      $$\HS = \hsystem$$
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}
  \frametitle{Lagrangian Systems}
  Mechanical systems are defined by:
  \begin{itemize}
  \item Kinetic energy, $T : T\sQ \to \R^+$,\\
  \item  Potential energy, $U : \sQ \to \R$,
  \end{itemize}
  which together comprise the total energy,
  \begin{align*}
    E(q, \dot q) = T(q, \dot q) + U(q).
  \end{align*}
  In a Hamiltonian system, energy is conserved and thus the dynamics reflect the flow of energy between $T(q, \dot q)$ and $U(q)$.
\end{frame}

\begin{frame}
  \frametitle{The Simplest Example---Passive Compass-Gait Biped}

  \begin{columns}[l]
    \column{1.5in}
    Dynamic Model:
    \begin{align*}
      M(q) \ddot q + H(q, \dot q) = 0
    \end{align*}
    \column{1.5in}
    whoa
  \end{columns}
  yip
\end{frame}

\begin{frame}
  \frametitle{Nonconservative Systems}
  For a nonconservative system, energy flows out of the system at a rate of $F_{\nc} \cdot dq$. Thus, the following quantity is conserved:
  \begin{align*}
    E_{c} &= T(q, \dot q) + U(q) - \int_{t_{0}}^{t_{1}} \! F_{\nc} \cdot dq\\
    &= E(q(0), \dot q(0))
  \end{align*}
  This equation expresses the interplay between kinetic and potential energy and the flow of energy into and out of the system.
\end{frame}

\begin{frame}
  \frametitle{Example: 3-Link Biped}
  \begin{align*}
    u = -k_{p} (\vartheta_{T}^{a} - \vartheta_{T}^{d}) - k_{d} (\dot \vartheta_{T}^{a})
  \end{align*}
\end{frame}

\section{Orbital Stabilization}
\begin{frame}
  \frametitle{Solutions to Dynamical Systems}
  dsys
\end{frame}

\begin{frame}
  \frametitle{Periodic Orbits}
\end{frame}

\begin{frame}
  \frametitle{Conservative Systems}
  csys
\end{frame}

\begin{frame}
  \frametitle{Orbital Stability}
  \begin{itemize}
  \item Periodic orbits have associated energy levels which define a hypersurface.
  \item We can stabilize to an energy level.
  \end{itemize}
\end{frame}


\begin{frame}
  \frametitle{Energy Shaping}
  Define the output $\eta = E_{c}(q, \dot q) - E0$.
  Control Lyapunov Function
\end{frame}

\begin{frame}
  \frametitle{Quadratic Programming}
  \begin{align}
    \nonumber
    \argmin_{v = (\delta, u)}  \, &v^T \! H(q, \dot q) \, v\\
    \label{clf} \tag{clf}
    \mbox{s.t. } & A_{\mathit{clf}}(q, \dot q) v \leq b_{\mathit{clf}}(q, \dot q)\\
    \label{lim} \tag{lim}
    & A_{\mathit{lim}} v \leq b_{\mathit{lim}}
  \end{align}
  where
  \begin{itemize}
  \item\eqref{clf} imposes the control Lyapunv function
  \item\eqref{lim} imposes torque limits
  \end{itemize}
  The above acts to stabilize the energy of the system while attempting to obey te nominal system dynamics.
\end{frame}

\begin{frame}
  \frametitle{Example: Compass Gait}
  compass gait
\end{frame}

\begin{frame}
  \frametitle{Nonconservative Systems}
  nconsys
\end{frame}

\begin{frame}
  \frametitle{Example: 3-Link Biped}
  3-link
\end{frame}

\section{Functional Routhian Reduction}
\begin{frame}
  \frametitle{Overview}
  diagram
\end{frame}

\begin{frame}
  \frametitle{Almost Cyclic Lagrangians}
  ac lags
\end{frame}

\begin{frame}
  \frametitle{Reduction Theorem}
  thm
\end{frame}

\begin{frame}
  \frametitle{Lagrangian Shaping}
  lag shaping
\end{frame}

\begin{frame}
  \frametitle{Reduction Surface Stabilization}
  surf stab
\end{frame}

\section{Results and Remaining Work}
\begin{frame}
  \frametitle{Walking with Feet}
  \begin{itemize}
  \item 2D biped with feet
  \end{itemize}
\end{frame}

%% \section{Conclusions}
%% \begin{frame}
%%   \frametitle{Conclusions}
%%   con.
%% \end{frame}

%\section{Hybrid Systems}
%
%\subsection{Formalisms}
%\frame{hsys}
%
%\section{Hybrid Models}
%\frame{hmodels}
%
%\section{Controlled Lagrangians}
%\begin{frame}
%  \begin{itemize}
%    \item Explain the significance of energy in mechanical systems.
%  \end{itemize}
%\end{frame}

%\section{Energy Shaping}
%\frame{ES}
%\begin{frame}
%  \frametitle{Formulation}
%  s
%\end{frame}


%% \begin{frame}
%%   \frametitle{A Simple Example}
%%   The pendulum can be stabilized to a given level set of the energy.
%% \end{frame}
%% 


\end{document}
